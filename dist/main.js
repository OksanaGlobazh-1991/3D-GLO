(()=>{"use strict";setInterval((function(e){const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");!function(){const a=function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:n,seconds:o}}();t.textContent=a.hours,a.hours>0&&a.hours<10&&(t.textContent="0"+a.hours),o.textContent=a.minutes,a.minutes>0&&a.minutes<10&&(o.textContent="0"+a.minutes),n.textContent=a.seconds,a.seconds>0&&a.seconds<10&&(n.textContent="0"+a.seconds),a.timeRemaining<0&&(clearInterval(idInterval),t.textContent="00",o.textContent="00",n.textContent="00")}()}),1e3,"31 august 2021"),(()=>{document.querySelector(".menu");const e=document.querySelector("menu");document.addEventListener("click",(t=>{const o=t.target;o.closest("menu")&&(e.style.transform="translate(-100%)"),o.closest(".menu")&&(e.style.transform&&"translate(-100%)"!==e.style.transform?e.style.transform="translate(-100%)":(e.style.transform="translate(0)",e.classList.toggle("active-menu"))),o||(e.style.display="none")}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content");let n,a=0;t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block"}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}));const l=()=>{n=requestAnimationFrame(l),a++,a<200?o.style.left=5*a+"px":cancelAnimationFrame(n),document.documentElement.clientWidth<768&&cancelAnimationFrame(n)};document.addEventListener("click",(()=>{n=requestAnimationFrame(l)}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,a)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(a)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content"));(()=>{const t=document.querySelector(".portfolio-dots");e.forEach(((e,o)=>{(e=document.createElement("li")).className="dot",0===o&&((e=document.createElement("li")).className="dot dot-active"),t.append(e)})),dot=document.querySelectorAll(".dot")})();let o,n=0;const a=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},r=()=>{a(e,n,"portfolio-item-active"),a(dot,n,"dot-active"),n++,n>=e.length&&(n=0),l(e,n,"portfolio-item-active"),l(dot,n,"dot-active")},c=(e=3e3)=>{o=setInterval(r,e)};t.addEventListener("click",(t=>{t.preventDefault();const o=t.target;o.matches(".portfolio-btn, .dot")&&(a(e,n,"portfolio-item-active"),a(dot,n,"dot-active"),o.matches("#arrow-right")?n++:o.matches("#arrow-left")?n--:o.matches(".dot")&&dot.forEach(((e,t)=>{e===o&&(n=t)})),n>=e.length&&(n=0),n<0&&(n=e.length-1),l(e,n,"portfolio-item-active"),l(dot,n,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&c()})),c(1500)})(),(()=>{document.querySelectorAll(".command__photo").forEach((e=>{let t;e.addEventListener("mouseover",(e=>{t=e.target.src,e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(e=>{e.target.src=t}))})),document.querySelectorAll('input[name="user_name"]').forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яё ]+/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^а-яё\ ]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," "),e.value=e.value.charAt(0).toUpperCase()+e.value.slice(1)}))}));const e=document.getElementById("form2-message");e.addEventListener("input",(()=>{e.value=e.value.replace(/[^?!,.а-яА-ЯёЁ0-9\s]+/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^\?\!\,\.\а-яА-ЯёЁ0-9\s]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," ")})),document.querySelectorAll(".form-email").forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^a-z-@_.!~*']+/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^a-z\-\@\_\.\!\~\*\']+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," ")}))})),document.querySelectorAll(".form-phone").forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^0-9+]+/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/[^0-9\+]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," ")}))}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=t.querySelectorAll("input"),n=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),l=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),c=document.getElementById("total");o.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^0-9]/g,"")}))})),t.addEventListener("change",(t=>{const o=t.target;(o.matches(".calc-type")||o.matches(".calc-square")||o.matches(".calc-day")||o.matches(".calc-count"))&&(()=>{let t=0,o=1,s=1;const u=n.options[n.selectedIndex].value,d=+a.value;r.value>1&&(o+=(r.value-1)/10),l.value&&l.value<5?s*=2:l.value&&l.value<10&&(s*=1.5),u&&d&&(t=e*u*d*o*s),c.textContent=t})()}))})(100),(()=>{const e=document.querySelectorAll("form"),t=document.createElement("div");t.style.cssText="font-size: 2rem;",e.forEach((e=>{e.addEventListener("submit",(n=>{n.preventDefault(),e.appendChild(t),t.textContent="Загрузка...";const a=new FormData(e);o(a).then((e=>{if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).catch((e=>{t.textContent="Что то пошло не так...",console.error(e)})),[...e].forEach((e=>{e.value=""}))}))}));const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e,credentials:"include"})})()})();