(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function r(){var e=(new Date("10 september 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:n,seconds:t}}r();var a=0;function c(){var e=r();t.textContent=e.hours,e.hours>0&&e.hours<10&&(t.textContent="0"+e.hours),n.textContent=e.minutes,e.minutes>0&&e.minutes<10&&(n.textContent="0"+e.minutes),o.textContent=e.seconds,e.seconds>0&&e.seconds<10&&(o.textContent="0"+e.seconds),e.timeRemaining<0&&(clearInterval(a),t.textContent="00",n.textContent="00",o.textContent="00")}c(),a=setInterval(c,1e3)})(),r=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;t.closest("a")&&(r.style.transform="translate(-100%)"),t.closest(".menu")&&(r.style.transform&&"translate(-100%)"!==r.style.transform?r.style.transform="translate(-100%)":(r.style.transform="translate(0)",r.classList.toggle("active-menu"))),t||(r.style.display="none")})),function(){var e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content"),o=0;t.forEach((function(t){t.addEventListener("click",(function(){e.style.display="block"}))}));var r,a=!1,c=function t(){r=requestAnimationFrame(t),++o<50?n.style.left=o+"%":cancelAnimationFrame(r),e.clientWidth<768&&(n.style.left="50%",cancelAnimationFrame(r))};e.addEventListener("click",(function(t){var n=t.target;n.classList.contains("popup-close")?(e.style.display="none",o=0):(n=n.closest(".popup-content"))||(e.style.display="none",o=0)})),document.addEventListener("click",(function(){a?(a=!1,cancelAnimationFrame(r)):(r=requestAnimationFrame(c),a=!0)}))}(),t=document.querySelector(".service-header"),n=t.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab"),t.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&n.forEach((function(e,r){e===t&&function(e){for(var t=0;t<o.length;t++)e===t?(n[t].classList.add("active"),o[t].classList.remove("d-none")):(n[t].classList.remove("active"),o[t].classList.add("d-none"))}(r)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-content");e=document.querySelector(".portfolio-dots"),t.forEach((function(t,n){(t=document.createElement("li")).className="dot",0===n&&((t=document.createElement("li")).className="dot dot-active"),e.append(t)}));var o,r=document.querySelectorAll(".dot"),a=0,c=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},u=function(){c(t,a,"portfolio-item-active"),c(r,a,"dot-active"),++a>=t.length&&(a=0),l(t,a,"portfolio-item-active"),l(r,a,"dot-active")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o=setInterval(u,e)};n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(c(t,a,"portfolio-item-active"),c(r,a,"dot-active"),n.matches("#arrow-right")?a++:n.matches("#arrow-left")?a--:n.matches(".dot")&&r.forEach((function(e,t){e===n&&(a=t)})),a>=t.length&&(a=0),a<0&&(a=t.length-1),l(t,a,"portfolio-item-active"),l(r,a,"dot-active"))})),n.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)}(),function(){document.querySelectorAll(".command__photo").forEach((function(e){var t;e.addEventListener("mouseover",(function(e){t=e.target.src,e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(function(e){e.target.src=t}))})),document.querySelectorAll('input[name="user_name"]').forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-яё ]+/g,"")})),e.addEventListener("blur",(function(){e.value=e.value.replace(/[^а-яё\ ]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," "),e.value=e.value.charAt(0).toUpperCase()+e.value.slice(1)}))}));var e=document.getElementById("form2-message");e.addEventListener("input",(function(){e.value=e.value.replace(/[^?!,.а-яА-ЯёЁ0-9\s]+/g,"")})),e.addEventListener("blur",(function(){e.value=e.value.replace(/[^\?\!\,\.\а-яА-ЯёЁ0-9\s]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," ")})),document.querySelectorAll(".form-email").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^a-z-@_.!~*']+/g,"")})),e.addEventListener("blur",(function(){e.value=e.value.replace(/[^a-z\-\@\_\.\!\~\*\']+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g,"")}))})),document.querySelectorAll(".form-phone").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9+]+/g,"")})),e.addEventListener("blur",(function(){e.value=e.value.replace(/[^0-9\+]+/gi,""),e.value=e.value.trim(),e.value=e.value.replace(/\s+/g," ")}))}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=t.querySelectorAll("input"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),l=document.getElementById("total"),u=function(){var t=0,n=1,u=1,i=o.options[o.selectedIndex].value,s=+r.value;c.value>1&&(n+=(c.value-1)/10),a.value&&a.value<5?u*=2:a.value&&a.value<10&&(u*=1.5),i&&s&&(t=Math.round(e*i*s*n*u)),l.textContent=t};n.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9]/g,"")}))})),t.addEventListener("change",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-day")||t.matches(".calc-count"))&&u()}))}(100),function(){var t,n=document.querySelectorAll("form"),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: white";var r=0;n.forEach((function(n){n.addEventListener("submit",(function(a){a.preventDefault(),n.appendChild(o),o.textContent="Загрузка...";var c,l=new FormData(n);t={},l.forEach((function(e,n){t[n]=e})),(c=n,function(t){if(Array.isArray(t))return e(t)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.value=""})),r(t).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e),o.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).catch((function(e){o.textContent="Что то пошло не так...",console.error(e)}))}))})),r=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})}}()})();